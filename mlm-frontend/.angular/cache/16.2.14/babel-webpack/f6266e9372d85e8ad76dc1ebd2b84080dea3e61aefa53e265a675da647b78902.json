{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nfunction TakeHelpComponent_mat_card_4_mat_progress_bar_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 6);\n  }\n  if (rf & 2) {\n    const level_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"value\", level_r1.paidPeople / level_r1.totalPeople * 100);\n  }\n}\nfunction TakeHelpComponent_mat_card_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 3)(1, \"mat-card-header\")(2, \"mat-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-subtitle\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"titlecase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-card-content\")(8, \"div\", 4)(9, \"strong\");\n    i0.ɵɵtext(10, \"Total People:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 4)(13, \"strong\");\n    i0.ɵɵtext(14, \"Paid People:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 4)(17, \"strong\");\n    i0.ɵɵtext(18, \"Open People:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(20, TakeHelpComponent_mat_card_4_mat_progress_bar_20_Template, 1, 1, \"mat-progress-bar\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const level_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", level_r1.levelStatus);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Level \", level_r1.level || 1, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 7, level_r1.levelStatus));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", level_r1.totalPeople, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", level_r1.paidPeople, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", level_r1.openPeople, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", level_r1.totalPeople > 0);\n  }\n}\nexport class TakeHelpComponent {\n  constructor(http) {\n    this.http = http;\n    this.transactions = [];\n    this.selectedLevelData = 0;\n  }\n  ngOnInit() {\n    this.fetchTransactions();\n  }\n  fetchTransactions() {\n    const payerId = localStorage.getItem('_id');\n    if (!payerId) {\n      console.error('PayerId not found in localStorage');\n      return;\n    }\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${localStorage.getItem('token')}`\n    });\n    this.http.get(`${environment.apiUrl}/payments/getMatrixSummary/${payerId}`, {\n      headers\n    }).subscribe(response => {\n      this.transactions = response;\n      console.log(response);\n    }, error => {\n      console.error('Error fetching transactions:', error);\n    });\n  }\n  selectLevel(level) {\n    this.selectedLevelData = level;\n  }\n  static #_ = this.ɵfac = function TakeHelpComponent_Factory(t) {\n    return new (t || TakeHelpComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TakeHelpComponent,\n    selectors: [[\"app-take-help\"]],\n    decls: 5,\n    vars: 1,\n    consts: [[1, \"matrix-summary\"], [1, \"level-cards\"], [\"class\", \"level-card\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"level-card\", 3, \"ngClass\"], [1, \"stat\"], [\"mode\", \"determinate\", 3, \"value\", 4, \"ngIf\"], [\"mode\", \"determinate\", 3, \"value\"]],\n    template: function TakeHelpComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Matrix Summary\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1);\n        i0.ɵɵtemplate(4, TakeHelpComponent_mat_card_4_Template, 21, 9, \"mat-card\", 2);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.levels);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i2.TitleCasePipe],\n    styles: [\".text-success[_ngcontent-%COMP%] {\\n    color: green;\\n  }\\n  .text-danger[_ngcontent-%COMP%] {\\n    color: red;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFrZS1oZWxwL3Rha2UtaGVscC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtFQUNkO0VBQ0E7SUFDRSxVQUFVO0VBQ1oiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dC1zdWNjZXNzIHtcbiAgICBjb2xvcjogZ3JlZW47XG4gIH1cbiAgLnRleHQtZGFuZ2VyIHtcbiAgICBjb2xvcjogcmVkO1xuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["HttpHeaders","environment","i0","ɵɵelement","ɵɵproperty","level_r1","paidPeople","totalPeople","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","TakeHelpComponent_mat_card_4_mat_progress_bar_20_Template","levelStatus","ɵɵadvance","ɵɵtextInterpolate1","level","ɵɵtextInterpolate","ɵɵpipeBind1","openPeople","TakeHelpComponent","constructor","http","transactions","selectedLevelData","ngOnInit","fetchTransactions","payerId","localStorage","getItem","console","error","headers","get","apiUrl","subscribe","response","log","selectLevel","_","ɵɵdirectiveInject","i1","HttpClient","_2","selectors","decls","vars","consts","template","TakeHelpComponent_Template","rf","ctx","TakeHelpComponent_mat_card_4_Template","levels"],"sources":["/Users/rugvedraikwar/Desktop/magicHelp/mlm-froentend/mlm-frontend/src/app/take-help/take-help.component.ts","/Users/rugvedraikwar/Desktop/magicHelp/mlm-froentend/mlm-frontend/src/app/take-help/take-help.component.html"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\n\n\ninterface LevelSummary {\n  totalPeople: number;\n  paidPeople: number;\n  openPeople: number;\n  level?: number;\n  levelStatus: string;\n}\n\ninterface MatrixSummary {\n  [key: string]: LevelSummary;\n}\n\n@Component({\n  selector: 'app-take-help',\n  templateUrl: './take-help.component.html',\n  styleUrls: ['./take-help.component.css']\n})\n\n\nexport class TakeHelpComponent implements OnInit{\n  transactions: any[]=[];\n  selectedLevelData: number = 0;\n\n  \n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {\n    this.fetchTransactions();\n  }\n\n  fetchTransactions(): void {\n    const payerId = localStorage.getItem('_id');\n    if (!payerId) {\n      console.error('PayerId not found in localStorage');\n      return;\n    }\n\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${localStorage.getItem('token')}`\n    });\n\n\n    this.http.get<any[]>(`${environment.apiUrl}/payments/getMatrixSummary/${payerId}`, { headers })\n      .subscribe(\n        response => {\n          this.transactions = response;\n          console.log(response);\n        },\n        error => {\n          console.error('Error fetching transactions:', error);\n        }\n      );\n  }\n\n  selectLevel(level: any): void {\n    this.selectedLevelData = level;\n  }\n}\n","<div class=\"matrix-summary\">\n    <h2>Matrix Summary</h2>\n    <div class=\"level-cards\">\n      <mat-card *ngFor=\"let level of levels\" class=\"level-card\" [ngClass]=\"level.levelStatus\">\n        <mat-card-header>\n          <mat-card-title>Level {{ level.level || 1 }}</mat-card-title>\n          <mat-card-subtitle>{{ level.levelStatus | titlecase }}</mat-card-subtitle>\n        </mat-card-header>\n        <mat-card-content>\n          <div class=\"stat\">\n            <strong>Total People:</strong> {{ level.totalPeople }}\n          </div>\n          <div class=\"stat\">\n            <strong>Paid People:</strong> {{ level.paidPeople }}\n          </div>\n          <div class=\"stat\">\n            <strong>Open People:</strong> {{ level.openPeople }}\n          </div>\n        </mat-card-content>\n        <mat-progress-bar \n          mode=\"determinate\" \n          [value]=\"(level.paidPeople / level.totalPeople) * 100\"\n          *ngIf=\"level.totalPeople > 0\">\n        </mat-progress-bar>\n      </mat-card>\n    </div>\n  </div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}